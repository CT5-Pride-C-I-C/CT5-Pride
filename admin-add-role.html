<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Role Management - CT5 Pride Admin</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="icon" type="image/svg+xml" href="Images/Logo-with-Transparent-background.svg">
</head>
<body>
    <!-- Password Protection Screen -->
    <div id="passwordScreen" class="password-screen">
        <div class="password-container">
            <div class="password-box">
                <div class="password-header">
                    <img src="Images/Logo-with-Transparent-background.svg" alt="CT5 Pride Logo" class="site-logo">
                    <h2>🔐 Admin Access Required</h2>
                    <p>Please enter the admin password to access the volunteer role management system.</p>
                </div>
                
                <form id="passwordForm" class="password-form">
                    <div class="form-group">
                        <label for="adminPassword">Admin Password</label>
                        <input type="password" id="adminPassword" name="adminPassword" required 
                               placeholder="Enter admin password">
                    </div>
                    
                    <button type="submit" class="button primary">🔓 Access Admin Panel</button>
                </form>
                
                <div id="passwordError" class="password-error" style="display: none;">
                    ❌ Incorrect password. Please try again.
                </div>
                
                <div class="password-footer">
                    <p>Contact the system administrator if you need access.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Admin Content (Hidden until password is correct) -->
    <div id="adminContent" class="admin-content" style="display: none;">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <a href="index.html">
                            <img src="Images/Logo-with-Transparent-background.svg" alt="CT5 Pride Logo" class="site-logo">
                        </a>
                    </div>
                    <nav>
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="about.html">About</a></li>
                            <li><a href="events.html">Events</a></li>
                            <li><a href="volunteer.html">Volunteer</a></li>
                            <li><a href="get-involved.html">Get Involved</a></li>
                            <li><a href="contact.html">Contact</a></li>
                        </ul>
                    </nav>
                    <div class="header-actions">
                        <a href="apply.html" class="button">Apply Now</a>
                        <button id="logoutBtn" class="button outline">🚪 Logout</button>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <section class="admin-hero">
                <div class="container">
                    <h1>🎯 Role Management Dashboard</h1>
                    <p>Manage all volunteer roles for CT5 Pride - Create, Edit, Delete, and Update Status</p>
                    <div class="admin-info-box">
                        <h2>Manage Volunteer Roles for CT5 Pride</h2>
                        <p>
                            All changes are synced to GitHub and deployed live. Create, edit, or delete roles in real time.
                        </p>
                        <div class="admin-status-indicators">
                            <div class="status-item">
                                <span class="status-icon">✅</span>
                                <span class="status-text">GitHub Sync: Active</span>
                            </div>
                            <div class="status-item">
                                <span class="status-icon">📅</span>
                                <span class="status-text" id="currentDateTime">Loading...</span>
                            </div>
                            <div class="status-item">
                                <span class="status-icon">📊</span>
                                <span class="status-text">Total Roles: <span id="bannerRoleCount">0</span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Role Management Dashboard -->
            <section class="role-management-section">
                <div class="container">
                    <!-- Dashboard Header -->
                    <div class="dashboard-header">
                        <div class="dashboard-stats">
                            <div class="stat-card">
                                <span class="stat-number" id="totalRoles">0</span>
                                <span class="stat-label">Total Roles</span>
                            </div>
                            <div class="stat-card">
                                <span class="stat-number" id="liveRoles">0</span>
                                <span class="stat-label">Live Roles</span>
                            </div>
                            <div class="stat-card">
                                <span class="stat-number" id="draftRoles">0</span>
                                <span class="stat-label">Draft Roles</span>
                            </div>
                            <div class="stat-card">
                                <span class="stat-number" id="archivedRoles">0</span>
                                <span class="stat-label">Archived</span>
                            </div>
                        </div>
                        
                        <div class="dashboard-actions">
                            <button id="addNewRoleBtn" class="button primary">➕ Add New Role</button>
                            <button id="refreshRolesBtn" class="button secondary">🔄 Refresh</button>
                        </div>
                    </div>

                    <!-- Search and Filter -->
                    <div class="search-filter-bar">
                        <div class="search-box">
                            <input type="text" id="roleSearch" placeholder="Search roles by title, department, or ID...">
                            <span class="search-icon">🔍</span>
                        </div>
                        <div class="filter-options">
                            <select id="statusFilter">
                                <option value="">All Statuses</option>
                                <option value="open">Live</option>
                                <option value="draft">Draft</option>
                                <option value="closed">Archived</option>
                            </select>
                            <select id="departmentFilter">
                                <option value="">All Departments</option>
                                <option value="Marketing & Communications">Marketing & Communications</option>
                                <option value="Events & Operations">Events & Operations</option>
                                <option value="Community Outreach">Community Outreach</option>
                                <option value="Fundraising">Fundraising</option>
                                <option value="Youth Services">Youth Services</option>
                                <option value="Governance & Administration">Governance & Administration</option>
                                <option value="Volunteer Management">Volunteer Management</option>
                            </select>
                        </div>
                    </div>

                    <!-- Roles Table -->
                    <div class="roles-table-container">
                        <div id="rolesTable" class="roles-table">
                            <!-- Roles will be loaded here dynamically -->
                        </div>
                        
                        <div id="noRolesMessage" class="no-roles-message" style="display: none;">
                            <h3>📝 No Roles Found</h3>
                            <p>No volunteer roles have been created yet. Click "Add New Role" to create your first role.</p>
                        </div>
                        
                        <div id="loadingRoles" class="loading-message">
                            <div class="loading-spinner"></div>
                            <p>Loading roles...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Add/Edit Role Form Section (Initially Hidden) -->
            <section id="roleFormSection" class="admin-form-section" style="display: none;">
                <div class="container">
                    <div class="form-header">
                        <h2 id="formTitle">🎯 Add New Volunteer Role</h2>
                        <button id="closeFormBtn" class="button outline">✕ Close</button>
                    </div>
                    
                    <div class="admin-form-container">
                        <form id="roleForm" class="admin-form">
                            <div class="form-grid">
                                <!-- Basic Information -->
                                <div class="form-section">
                                    <h3>📋 Basic Information</h3>
                                    
                                    <div class="form-group">
                                        <label for="roleId">Role ID *</label>
                                        <input type="text" id="roleId" name="roleId" required 
                                               placeholder="e.g., social-media-coordinator">
                                        <small>Unique identifier for the role (auto-generated from title)</small>
                                    </div>

                                    <div class="form-group">
                                        <label for="roleTitle">Role Title *</label>
                                        <input type="text" id="roleTitle" name="roleTitle" required 
                                               placeholder="e.g., Social Media Coordinator">
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="roleCategory">Category *</label>
                                            <select id="roleCategory" name="roleCategory" required>
                                                <option value="">Select Category</option>
                                                <option value="governance">Governance</option>
                                                <option value="marketing">Marketing</option>
                                                <option value="events">Events</option>
                                                <option value="outreach">Outreach</option>
                                                <option value="fundraising">Fundraising</option>
                                                <option value="youth">Youth</option>
                                            </select>
                                        </div>

                                        <div class="form-group">
                                            <label for="roleDepartment">Department *</label>
                                            <select id="roleDepartment" name="roleDepartment" required>
                                                <option value="">Select Department</option>
                                                <option value="Board of Directors">Board of Directors</option>
                                                <option value="Marketing & Communications">Marketing & Communications</option>
                                                <option value="Events & Operations">Events & Operations</option>
                                                <option value="Community Outreach">Community Outreach</option>
                                                <option value="Fundraising">Fundraising</option>
                                                <option value="Youth Services">Youth Services</option>
                                                <option value="Governance & Administration">Governance & Administration</option>
                                                <option value="Volunteer Management">Volunteer Management</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="roleStatus">Status *</label>
                                            <select id="roleStatus" name="roleStatus" required>
                                                <option value="draft">Draft (Preview Only)</option>
                                                <option value="open">Open (Live)</option>
                                                <option value="closed">Archived</option>
                                            </select>
                                        </div>

                                        <div class="form-group">
                                            <label for="roleIcon">Icon Type *</label>
                                            <select id="roleIcon" name="roleIcon" required>
                                                <option value="volunteers">Volunteers</option>
                                                <option value="social-media">Social Media</option>
                                                <option value="outreach">Outreach</option>
                                                <option value="fundraising">Fundraising</option>
                                                <option value="youth">Youth</option>
                                                <option value="parade">Parade</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <!-- Role Details -->
                                <div class="form-section">
                                    <h3>📍 Role Details</h3>
                                    
                                    <div class="form-group">
                                        <label for="roleSummary">Role Summary *</label>
                                        <textarea id="roleSummary" name="roleSummary" rows="3" required 
                                                  placeholder="Brief summary of the role (appears on the role card)"></textarea>
                                    </div>

                                    <div class="form-group">
                                        <label for="roleLocation">Location *</label>
                                        <input type="text" id="roleLocation" name="roleLocation" required 
                                               placeholder="e.g., CT5 Area, Kent">
                                    </div>

                                    <div class="form-group">
                                        <label for="roleReportingLine">Reporting Line *</label>
                                        <input type="text" id="roleReportingLine" name="roleReportingLine" required 
                                               placeholder="e.g., Marketing Director">
                                    </div>

                                    <div class="form-group">
                                        <label for="roleTimeCommitment">Time Commitment *</label>
                                        <input type="text" id="roleTimeCommitment" name="roleTimeCommitment" required 
                                               placeholder="e.g., 5-10 hours per week">
                                    </div>
                                </div>

                                <!-- Role Description -->
                                <div class="form-section full-width">
                                    <h3>📝 Role Description</h3>
                                    
                                    <div class="form-group">
                                        <label for="roleDescription">About This Role *</label>
                                        <textarea id="roleDescription" name="roleDescription" rows="6" required 
                                                  placeholder="Detailed description of the role, responsibilities, and what the volunteer will be doing..."></textarea>
                                        <small>Use HTML tags like &lt;p&gt;, &lt;strong&gt;, &lt;em&gt; for formatting</small>
                                    </div>
                                </div>

                                <!-- Criteria -->
                                <div class="form-section">
                                    <h3>✅ Essential Criteria</h3>
                                    
                                    <div class="form-group">
                                        <label for="roleEssentialCriteria">Essential Requirements *</label>
                                        <textarea id="roleEssentialCriteria" name="roleEssentialCriteria" rows="8" required 
                                                  placeholder="List each requirement on a new line:
• Must be 18+ years old
• Fluent in English
• Available weekends
• Experience with social media"></textarea>
                                        <small>One requirement per line, starting with a bullet point or dash</small>
                                    </div>
                                </div>

                                <div class="form-section">
                                    <h3>🌟 Desirable Criteria</h3>
                                    
                                    <div class="form-group">
                                        <label for="roleDesirableCriteria">Desirable Requirements *</label>
                                        <textarea id="roleDesirableCriteria" name="roleDesirableCriteria" rows="8" required 
                                                  placeholder="List each requirement on a new line:
• Previous volunteer experience
• Marketing background
• Graphic design skills
• Local community connections"></textarea>
                                        <small>One requirement per line, starting with a bullet point or dash</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Form Actions -->
                            <div class="form-actions">
                                <button type="button" id="previewBtn" class="button secondary">👁️ Preview Role</button>
                                <button type="submit" class="button primary">💾 Save Role</button>
                                <button type="button" id="clearBtn" class="button outline">🗑️ Clear Form</button>
                            </div>
                        </form>
                    </div>

                    <!-- Preview Section -->
                    <div id="rolePreview" class="preview-section" style="display: none;"></div>

                    <!-- Success Message -->
                    <div id="successMessage" class="success-section" style="display: none;">
                        <!-- Success content will be populated by JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Delete Confirmation Modal -->
            <div id="deleteModal" class="modal" style="display: none;">
                <div class="modal-content">
                    <h3>🗑️ Confirm Delete</h3>
                    <p>Are you sure you want to delete the role "<span id="deleteRoleTitle"></span>"?</p>
                    <p><strong>This action cannot be undone.</strong></p>
                    <div class="modal-actions">
                        <button id="confirmDeleteBtn" class="button danger">🗑️ Delete Role</button>
                        <button id="cancelDeleteBtn" class="button outline">❌ Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Toast Notifications -->
            <div id="toastContainer" class="toast-container"></div>
        </main>

        <footer>
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h3>CT5 Pride</h3>
                        <p>Celebrating diversity and promoting inclusion in the CT5 area of Kent.</p>
                    </div>
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href="about.html">About Us</a></li>
                            <li><a href="events.html">Events</a></li>
                            <li><a href="volunteer.html">Volunteer</a></li>
                            <li><a href="contact.html">Contact</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Get Involved</h4>
                        <ul>
                            <li><a href="volunteer.html">Volunteer</a></li>
                            <li><a href="get-involved.html">Ways to Help</a></li>
                            <li><a href="apply.html">Apply Now</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Connect</h4>
                        <div class="social-links">
                            <a href="#" aria-label="Facebook">📘</a>
                            <a href="#" aria-label="Twitter">🐦</a>
                            <a href="#" aria-label="Instagram">📷</a>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; 2024 CT5 Pride. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <script src="js/admin.js"></script>
</body>
</html> 