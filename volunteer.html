<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <!-- Security Meta Tags -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <title>Volunteer with CT5 Pride | LGBTQIA+ Community in Whitstable & CT5 Area</title>
    <meta name="description" content="Join our team of volunteers at CT5 Pride and help support the LGBTQIA+ community across Whitstable and the entire CT5 postcode area including Seasalter, Tankerton, Chestfield, Swalecliffe, and Yorkletts.">
    <link rel="stylesheet" href="css/style.css">
    <!-- Load Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Skip to Main Content -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Progress Pride Flag Stripe -->
    <div class="pride-stripe" role="banner" aria-label="Progress Pride Flag"></div>
    
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo-link" aria-label="CT5 Pride - Return to homepage">
                    <img src="Images/Logo-with-Transparent-background.svg" alt="CT5 Pride logo" class="site-logo" width="auto" height="60">
                </a>
                <button class="nav-toggle" aria-label="Toggle navigation">‚ò∞</button>
                <nav role="navigation" aria-label="Main navigation">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li class="dropdown">
                            <a href="#" aria-haspopup="true" aria-expanded="false">About</a>
                            <ul class="dropdown-content" role="menu">
                                <li role="none"><a href="about.html" role="menuitem">About Us</a></li>
                                <li role="none"><a href="team.html" role="menuitem">Our Team</a></li>
                            </ul>
                        </li>
                        <li><a href="events.html">Events</a></li>
                        <li class="dropdown">
                            <a href="#" aria-haspopup="true" aria-expanded="false">Get Involved</a>
                            <ul class="dropdown-content" role="menu">
                                <li role="none"><a href="get-involved.html" role="menuitem">Overview</a></li>
                                <li role="none"><a href="volunteer.html" role="menuitem" aria-current="page">Volunteer Opportunities</a></li>
        
                                <li role="none"><a href="contact.html" role="menuitem">Contact Us</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" aria-haspopup="true" aria-expanded="false">Support & Education</a>
                            <ul class="dropdown-content" role="menu">
                                <li role="none"><a href="help-support.html" role="menuitem">Help & Support</a></li>
                                <li role="none"><a href="pride-quiz.html" role="menuitem">Pride Knowledge Quiz</a></li>
                                <li role="none"><a href="breathing-exercise.html" role="menuitem">Mindful Breathing Exercise</a></li>
                                <li role="none"><a href="lgbtq-history.html" role="menuitem">History of LGBTQ+ Rights</a></li>
                            </ul>
                        </li>
                        <li class="donate-button">
                            <a href="https://www.justgiving.com/crowdfunding/ct5pride" target="_blank" rel="noopener noreferrer" class="donate-link">
                                üíù Donate
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main id="main-content">
        <!-- Enhanced Volunteer Hero Section -->
        <section class="hero decorative-shapes" style="background: var(--cosmic-gradient); padding: 4rem 0; position: relative;">
            <!-- IDEOGRAM GRAPHIC ACTIVE: volunteer_community_background.svg background -->
            <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: url('Images/volunteer_community_background.svg') center/cover no-repeat; opacity: 0.2; z-index: 1;"></div>
            <div class="container" style="position: relative; z-index: 2;">
                <div style="text-align: center; color: white; max-width: 800px; margin: 0 auto;">
                    <h1 style="font-size: 3.5rem; margin-bottom: 2rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
                        ü§ù Volunteer With Us
                    </h1>
                    <p style="font-size: 1.4rem; line-height: 1.8; text-shadow: 1px 1px 2px rgba(0,0,0,0.2);">
                        Join our passionate team of volunteers and help create meaningful change in the LGBTQIA+ 
                        community. Every skill, every hour, and every heart makes a difference.
                    </p>
                </div>
            </div>
        </section>

        <!-- Vibrant Section Divider -->
        <div class="section-divider" role="separator" aria-hidden="true"></div>

        <!-- Enhanced Why Volunteer Section -->
        <section class="decorative-shapes" style="background: var(--pastel-gradient); padding: 4rem 0;">
            <div class="container">
                <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 3rem; color: var(--text); text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">
                    ‚ú® Why Volunteer with CT5 Pride?
                </h2>
                <div class="cta-grid">
                    <div style="background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,240,245,0.95) 100%); padding: 3rem; border-radius: 20px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); border-top: 6px solid var(--rainbow-gradient); text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üíù</div>
                        <h3 style="color: var(--primary); font-size: 1.5rem; margin-bottom: 1rem; font-weight: 700;">Make a Real Impact</h3>
                        <p style="font-size: 1.1rem; color: var(--text); line-height: 1.6;">
                            Your contributions directly support LGBTQIA+ individuals and help build a more 
                            inclusive community where everyone can thrive.
                        </p>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(240,255,255,0.95) 100%); padding: 3rem; border-radius: 20px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); border-top: 6px solid var(--warm-gradient); text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üåü</div>
                        <h3 style="color: var(--primary); font-size: 1.5rem; margin-bottom: 1rem; font-weight: 700;">Develop New Skills</h3>
                        <p style="font-size: 1.1rem; color: var(--text); line-height: 1.6;">
                            Gain valuable experience in event planning, community outreach, marketing, 
                            and leadership while working alongside passionate team members.
                        </p>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,250,250,0.95) 100%); padding: 3rem; border-radius: 20px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); border-top: 6px solid var(--pastel-gradient); text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">ü§ó</div>
                        <h3 style="color: var(--primary); font-size: 1.5rem; margin-bottom: 1rem; font-weight: 700;">Build Lasting Friendships</h3>
                        <p style="font-size: 1.1rem; color: var(--text); line-height: 1.6;">
                            Connect with like-minded individuals who share your passion for equality, 
                            community building, and creating positive change.
                        </p>
                    </div>

                    <div style="background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,224,0.95) 100%); padding: 3rem; border-radius: 20px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); border-top: 6px solid #ffe066; text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üé´</div>
                        <h3 style="color: var(--primary); font-size: 1.5rem; margin-bottom: 1rem; font-weight: 700;">Free CT5 Pride Membership</h3>
                        <p style="font-size: 1.1rem; color: var(--text); line-height: 1.6;">
                            All volunteers receive free membership to CT5 Pride, giving you access to member-only events, updates, and more.
                        </p>
                    </div>

                    <div style="background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(230,245,255,0.95) 100%); padding: 3rem; border-radius: 20px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); border-top: 6px solid #6ec6ff; text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üõçÔ∏è</div>
                        <h3 style="color: var(--primary); font-size: 1.5rem; margin-bottom: 1rem; font-weight: 700;">Access to Exclusive Merch</h3>
                        <p style="font-size: 1.1rem; color: var(--text); line-height: 1.6;">
                            Volunteers get early access and special discounts on exclusive CT5 Pride merchandise and swag.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Vibrant Section Divider -->
        <div class="section-divider" role="separator" aria-hidden="true"></div>

        <!-- Enhanced Volunteer Opportunities Section -->
        <section id="volunteer-roles" class="decorative-shapes" style="padding: 4rem 0; background: rgba(255,255,255,0.95);">
            <!-- IDEOGRAM GRAPHIC ACTIVE: volunteer_community_background.svg is displaying via CSS .role-board::before -->
            <div class="container">
                <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 3rem; color: var(--text); text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">
                    üåà Current Volunteer Opportunities
                </h2>
                <div class="role-board" id="role-board">
                    <!-- Volunteer roles will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <!-- Vibrant Section Divider -->
        <div class="section-divider" role="separator" aria-hidden="true"></div>

        <!-- Enhanced Getting Started Section -->
        <section class="decorative-shapes" style="background: var(--cosmic-gradient); padding: 4rem 0;">
            <div class="container">
                <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                    <h2 style="font-size: 2.5rem; margin-bottom: 2rem; color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
                        üöÄ Ready to Get Started?
                    </h2>
                    <div style="background: rgba(255,255,255,0.95); padding: 3rem; border-radius: 20px; backdrop-filter: blur(10px); border: 2px solid rgba(255,255,255,0.3); margin-bottom: 2rem; box-shadow: 0 15px 40px rgba(0,0,0,0.2);">
                        <p style="font-size: 1.3rem; line-height: 1.8; margin-bottom: 2rem; color: var(--text); text-shadow: none;">
                            Getting involved is easy! Simply click on any role that interests you to learn more 
                            and submit an application. We'll be in touch within a few days to discuss next steps.
                        </p>
                        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                            <a href="contact.html" class="button" style="background: var(--accent); color: white; border: 3px solid var(--accent); font-size: 1.1rem; padding: 1rem 2rem;">
                                Have Questions?
                            </a>
                            <a href="about.html" class="button secondary" style="font-size: 1.1rem; padding: 1rem 2rem;">
                                Learn About Us
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Enhanced Accessibility Panel -->
    <div class="accessibility-panel">
        <button class="accessibility-toggle" aria-label="Open accessibility options" aria-expanded="false">
            ‚ôø
        </button>
        <div class="accessibility-menu" role="dialog" aria-labelledby="accessibility-title">
            <h3 id="accessibility-title">Accessibility Options</h3>
            
            <div class="accessibility-option">
                <label for="high-contrast-toggle">High Contrast Mode</label>
                <div class="accessibility-toggle-switch" 
                     id="high-contrast-toggle"
                     role="switch" 
                     aria-checked="false" 
                     tabindex="0"
                     data-setting="high-contrast">
                </div>
            </div>
            
            <div class="accessibility-option">
                <label for="dyslexia-toggle">Dyslexia Friendly Font</label>
                <div class="accessibility-toggle-switch" 
                     id="dyslexia-toggle"
                     role="switch" 
                     aria-checked="false" 
                     tabindex="0"
                     data-setting="dyslexia-friendly">
                </div>
            </div>
            
            <div class="accessibility-option">
                <label for="reduce-motion-toggle">Reduce Motion</label>
                <div class="accessibility-toggle-switch" 
                     id="reduce-motion-toggle"
                     role="switch" 
                     aria-checked="false" 
                     tabindex="0"
                     data-setting="reduce-motion">
                </div>
            </div>
            
            <div class="accessibility-option">
                <label for="text-size">Text Size</label>
                <div class="text-size-controls">
                    <button class="text-size-btn" data-size="small" aria-label="Small text size">A</button>
                    <button class="text-size-btn active" data-size="normal" aria-label="Normal text size">A</button>
                    <button class="text-size-btn" data-size="large" aria-label="Large text size">A</button>
                    <button class="text-size-btn" data-size="extra-large" aria-label="Extra large text size">A</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Role Detail Modal -->
    <div id="roleDetailModal" class="modal">
        <div class="modal-content role-detail-modal">
            <button type="button" class="modal-close" aria-label="Close role details">&times;</button>
            
            <!-- Role Header -->
            <div class="role-header">
                <div class="role-icon">
                    <!-- SVG icon will be inserted here by JavaScript -->
                </div>
                <div class="role-title-section">
                    <h2 id="roleDetailTitle">Role Title</h2>
                    <span id="roleDetailDepartment" class="role-department">Department</span>
                </div>
            </div>

            <!-- Role Details -->
            <div class="role-details">
                <div class="role-detail-item">
                    <strong>üìç Location:</strong>
                    <span id="roleDetailLocation">Location will appear here...</span>
                </div>
                <div class="role-detail-item">
                    <strong>üë• Reporting Line:</strong>
                    <span id="roleDetailReportingLine">Reporting line will appear here...</span>
                </div>
                <div class="role-detail-item">
                    <strong>‚è∞ Time Commitment:</strong>
                    <span id="roleDetailTimeCommitment">Time commitment will appear here...</span>
                </div>
            </div>

            <!-- Role Description -->
            <div class="role-description">
                <h3>About This Role</h3>
                <div id="roleDetailDescription">
                    <p>Detailed role description will appear here...</p>
                </div>
            </div>

            <!-- Essential Criteria -->
            <div class="role-criteria">
                <h3>Essential Criteria</h3>
                <ul id="roleEssentialCriteria" class="criteria-list">
                    <!-- Essential criteria will be populated by JavaScript -->
                </ul>
            </div>

            <!-- Desirable Criteria -->
            <div class="role-criteria">
                <h3>Desirable Criteria</h3>
                <ul id="roleDesirableCriteria" class="criteria-list">
                    <!-- Desirable criteria will be populated by JavaScript -->
                </ul>
            </div>

            <!-- Action Buttons -->
            <div class="role-actions">
                <a href="apply.html" class="button primary">Apply for This Role</a>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-layout">
                <!-- Left Section: Company Info -->
                <div class="footer-info">
                    <h3>CT5 Pride Community Interest Company</h3>
                    <div class="contact-links">
                        <a href="mailto:hello@ct5pride.org.uk" aria-label="Email CT5 Pride">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                            </svg>
                            hello@ct5pride.org.uk
                        </a>
                        <a href="/privacy.html">Privacy Policy</a>
                    </div>
                </div>
                
                <!-- Center Section: Pride Flags -->
                <div class="footer-flags">
                    <div class="flag-section-title">
                        <p>Click flags for temporary themes</p>
                    </div>
                    <div class="flags-grid">
                        <!-- Row 1 -->
                        <div class="pride-flag-icon default-theme" 
                             role="button" 
                             aria-label="Default CT5 Pride Theme"
                             tabindex="0"
                             data-theme="default"
                             title="CT5 Pride Default Theme"></div>
                        <div class="pride-flag-icon rainbow-flag" 
                             role="button" 
                             aria-label="Rainbow Pride Flag"
                             tabindex="0"
                             data-theme="rainbow"
                             title="Rainbow Pride Flag"></div>
                        <div class="pride-flag-icon progress-flag" 
                             role="button" 
                             aria-label="Progress Pride Flag"
                             tabindex="0"
                             data-theme="progress"
                             title="Progress Pride Flag"></div>
                        <div class="pride-flag-icon trans-flag" 
                             role="button" 
                             aria-label="Transgender Pride Flag"
                             tabindex="0"
                             data-theme="trans"
                             title="Transgender Pride Flag"></div>
                        <div class="pride-flag-icon nonbinary-flag" 
                             role="button" 
                             aria-label="Non-Binary Pride Flag"
                             tabindex="0"
                             data-theme="nonbinary"
                             title="Non-Binary Pride Flag"></div>
                        
                        <!-- Row 2 -->
                        <div class="pride-flag-icon lesbian-flag" 
                             role="button" 
                             aria-label="Lesbian Pride Flag"
                             tabindex="0"
                             data-theme="lesbian"
                             title="Lesbian Pride Flag"></div>
                        <div class="pride-flag-icon gay-flag" 
                             role="button" 
                             aria-label="Gay Pride Flag"
                             tabindex="0"
                             data-theme="gay"
                             title="Gay Pride Flag"></div>
                        <div class="pride-flag-icon bisexual-flag" 
                             role="button" 
                             aria-label="Bisexual Pride Flag"
                             tabindex="0"
                             data-theme="bisexual"
                             title="Bisexual Pride Flag"></div>
                        <div class="pride-flag-icon pansexual-flag" 
                             role="button" 
                             aria-label="Pansexual Pride Flag"
                             tabindex="0"
                             data-theme="pansexual"
                             title="Pansexual Pride Flag"></div>
                        <div class="pride-flag-icon asexual-flag" 
                             role="button" 
                             aria-label="Asexual Pride Flag"
                             tabindex="0"
                             data-theme="asexual"
                             title="Asexual Pride Flag"></div>
                        <div class="pride-flag-icon bear-flag" 
                             role="button" 
                             aria-label="Bear Pride Flag"
                             tabindex="0"
                             data-theme="bear"
                             title="Bear Pride Flag"></div>
                    </div>
                </div>
                
                <!-- Right Section: Social Links -->
                <div class="footer-social">
                    <div class="social-links">
                
                <div class="social-links">
                    <a href="https://www.facebook.com/CT5Pride" target="_blank" rel="noopener noreferrer" 
                       aria-label="Follow us on Facebook">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                        </svg>
                    </a>
                    <a href="https://www.instagram.com/ct5pride" target="_blank" rel="noopener noreferrer" 
                       aria-label="Follow us on Instagram">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.40s-.644-1.44-1.439-1.40z"/>
                        </svg>
                    </a>
                    <a href="https://www.linkedin.com/company/ct5-pride" target="_blank" rel="noopener noreferrer" 
                       aria-label="Follow us on LinkedIn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                    </a>
                    <a href="mailto:hello@ct5pride.org.uk" aria-label="Email us">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                        </svg>
                    </a>
                </div>                    
                    <!-- Facebook Community Group Button -->
                    <div style="margin-top: 1.5rem;">
                        <a href="https://www.facebook.com/groups/1452370402865655/" 
                           target="_blank" 
                           rel="noopener noreferrer" 
                           class="button primary"
                           style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: linear-gradient(135deg, #1877f2, #42a5f5); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 0.9rem; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(24, 119, 242, 0.3);">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                            Join our Facebook Community Group
                        </a>
                    </div>
                </div>
        </div>
    </footer>

    <!-- Application Modal -->
    <div id="applicationModal" class="application-modal" style="display: none;">
        <div class="application-modal-content">
            <div class="application-modal-header">
                <h2 id="applicationModalTitle">Apply for Volunteer Role</h2>
                <button class="application-close" onclick="closeApplicationModal()" aria-label="Close application form">&times;</button>
            </div>
            
            <form id="applicationForm" class="application-form" enctype="multipart/form-data">
                <input type="hidden" id="roleId" name="roleId">
                <input type="hidden" id="roleTitle" name="roleTitle">
                
                <div class="form-group">
                    <label for="applicantName">Full Name *</label>
                    <input type="text" id="applicantName" name="applicantName" required 
                           placeholder="Enter your full name">
                </div>
                
                <div class="form-group">
                    <label for="applicantEmail">Email Address *</label>
                    <input type="email" id="applicantEmail" name="applicantEmail" required 
                           placeholder="Enter your email address">
                </div>
                
                <div class="form-group">
                    <label for="applicantPhone">Phone Number</label>
                    <input type="tel" id="applicantPhone" name="applicantPhone" 
                           placeholder="Enter your phone number (optional)">
                </div>
                
                <div class="form-group">
                    <label for="cvType">CV Submission Method *</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="cvType" value="file" required>
                            <span class="radio-text">Upload File (PDF, DOCX, TXT - max 5MB)</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="cvType" value="text" required>
                            <span class="radio-text">Type CV Content</span>
                        </label>
                    </div>
                </div>
                
                <div class="form-group" id="cvFileGroup" style="display: none;">
                    <label for="cvFile">CV File</label>
                    <input type="file" id="cvFile" name="cvFile" accept=".pdf,.docx,.txt" 
                           aria-describedby="cvFileHelp">
                    <small id="cvFileHelp">Accepted formats: PDF, DOCX, TXT. Maximum size: 5MB</small>
                </div>
                
                <div class="form-group" id="cvTextGroup" style="display: none;">
                    <label for="cvText">CV Content</label>
                    <textarea id="cvText" name="cvText" rows="8" 
                              placeholder="Please provide your CV content here..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="coverLetterType">Covering Letter Submission Method *</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="coverLetterType" value="file" required>
                            <span class="radio-text">Upload File (PDF, DOCX, TXT - max 5MB)</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="coverLetterType" value="text" required>
                            <span class="radio-text">Type Covering Letter</span>
                        </label>
                    </div>
                </div>
                
                <div class="form-group" id="coverLetterFileGroup" style="display: none;">
                    <label for="coverLetterFile">Covering Letter File</label>
                    <input type="file" id="coverLetterFile" name="coverLetterFile" accept=".pdf,.docx,.txt" 
                           aria-describedby="coverLetterFileHelp">
                    <small id="coverLetterFileHelp">Accepted formats: PDF, DOCX, TXT. Maximum size: 5MB</small>
                </div>
                
                <div class="form-group" id="coverLetterTextGroup" style="display: none;">
                    <label for="coverLetterText">Covering Letter Content</label>
                    <textarea id="coverLetterText" name="coverLetterText" rows="6" 
                              placeholder="Please provide your covering letter here..."></textarea>
                </div>
                
                <div class="form-group checkbox-group">
                    <label class="checkbox-label" for="privacyConsent">
                        <input type="checkbox" id="privacyConsent" name="privacyConsent" required aria-required="true" aria-label="Consent to privacy policy">
                        I have read and understood the <a href="/privacy.html" target="_blank" rel="noopener noreferrer">Privacy Policy</a> and agree to the processing of my personal data.
                    </label>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="button secondary" onclick="closeApplicationModal()">Cancel</button>
                    <button type="submit" class="button primary">Submit Application</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/main.js"></script>
    
    <!-- Application Modal JavaScript -->
    <script>
        // Global variables for application modal
        let currentRoleId = null;
        let currentRoleTitle = null;

        // Function to open application modal
        function openApplicationModal(roleId, roleTitle) {
            currentRoleId = roleId;
            currentRoleTitle = roleTitle;
            
            // Set modal title and hidden fields
            document.getElementById('applicationModalTitle').textContent = `Apply for: ${roleTitle}`;
            document.getElementById('roleId').value = roleId;
            document.getElementById('roleTitle').value = roleTitle;
            
            // Show modal
            document.getElementById('applicationModal').style.display = 'flex';
            
            // Focus on first input for accessibility
            setTimeout(() => {
                document.getElementById('applicantName').focus();
            }, 100);
            
            // Add escape key handler
            document.addEventListener('keydown', handleApplicationEscape);
        }

        // Function to close application modal
        function closeApplicationModal() {
            document.getElementById('applicationModal').style.display = 'none';
            document.getElementById('applicationForm').reset();
            
            // Hide all conditional form groups
            document.getElementById('cvFileGroup').style.display = 'none';
            document.getElementById('cvTextGroup').style.display = 'none';
            document.getElementById('coverLetterFileGroup').style.display = 'none';
            document.getElementById('coverLetterTextGroup').style.display = 'none';
            
            // Remove escape key handler
            document.removeEventListener('keydown', handleApplicationEscape);
        }

        // Handle escape key for application modal
        function handleApplicationEscape(e) {
            if (e.key === 'Escape') {
                closeApplicationModal();
            }
        }

        // Handle CV type selection
        document.addEventListener('DOMContentLoaded', function() {
            // CV type radio buttons
            document.querySelectorAll('input[name="cvType"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const cvFileGroup = document.getElementById('cvFileGroup');
                    const cvTextGroup = document.getElementById('cvTextGroup');
                    
                    if (this.value === 'file') {
                        cvFileGroup.style.display = 'block';
                        cvTextGroup.style.display = 'none';
                        document.getElementById('cvText').removeAttribute('required');
                        document.getElementById('cvFile').setAttribute('required', 'required');
                    } else {
                        cvFileGroup.style.display = 'none';
                        cvTextGroup.style.display = 'block';
                        document.getElementById('cvFile').removeAttribute('required');
                        document.getElementById('cvText').setAttribute('required', 'required');
                    }
                });
            });

            // Cover letter type radio buttons
            document.querySelectorAll('input[name="coverLetterType"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const coverLetterFileGroup = document.getElementById('coverLetterFileGroup');
                    const coverLetterTextGroup = document.getElementById('coverLetterTextGroup');
                    
                    if (this.value === 'file') {
                        coverLetterFileGroup.style.display = 'block';
                        coverLetterTextGroup.style.display = 'none';
                        document.getElementById('coverLetterText').removeAttribute('required');
                        document.getElementById('coverLetterFile').setAttribute('required', 'required');
                    } else {
                        coverLetterFileGroup.style.display = 'none';
                        coverLetterTextGroup.style.display = 'block';
                        document.getElementById('coverLetterFile').removeAttribute('required');
                        document.getElementById('coverLetterText').setAttribute('required', 'required');
                    }
                });
            });

            // Handle form submission
            document.getElementById('applicationForm').addEventListener('submit', function(e) {
                e.preventDefault();
                submitApplication();
            });

            // Close modal when clicking outside
            document.getElementById('applicationModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeApplicationModal();
                }
            });
        });

        // Function to submit application
        async function submitApplication() {
            const form = document.getElementById('applicationForm');
            const formData = new FormData(form);
            
            // Validate form
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            // Show loading state
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Submitting...';
            submitBtn.disabled = true;

            try {
                const response = await fetch('https://admin.ct5pride.co.uk/api/apply', {
                    method: 'POST',
                    body: formData
                });

                const result = await response.json();

                if (result.success) {
                    // Show success message
                    alert('‚úÖ Application submitted successfully! We\'ll be in touch soon.');
                    closeApplicationModal();
                } else {
                    // Show error message
                    alert(`‚ùå Application failed: ${result.message || 'Unknown error occurred'}`);
                }
            } catch (error) {
                console.error('Application submission error:', error);
                alert('‚ùå Application failed: Network error. Please try again.');
            } finally {
                // Reset button state
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        }
    </script>
    
    <!-- Dynamic Role Loading Script -->
    <script type="module">
        // Role icons mapping
        const roleIcons = {
            'volunteers': 'üåà',
            'events': 'üéâ',
            'marketing': 'üì¢',
            'fundraising': 'üí∞',
            'community': 'ü§ù',
            'admin': 'üìã',
            'support': 'üí¨',
            'creative': 'üé®',
            'tech': 'üíª',
            'outreach': 'üìç'
        };

        // Function to load roles from Supabase API
        async function loadRoles() {
            try {
                console.log('üåê Loading roles from public API...');
                
                // Fetch from public API (no auth required)
                const apiUrl = 'https://admin.ct5pride.co.uk/api/roles/public';
                console.log('üîó Fetching roles from:', apiUrl);
                const response = await fetch(apiUrl, { credentials: 'omit' });
                if (response.ok) {
                    const data = await response.json();
                    console.log('‚úÖ API response:', data);
                    if (!data.roles || !Array.isArray(data.roles)) {
                        console.warn('‚ö†Ô∏è API did not return roles array:', data);
                        return [];
                    }
                    console.log(`‚úÖ Loaded ${data.roles.length} published roles`);
                    return data.roles;
                } else {
                    console.error('‚ùå API response not ok:', response.status, response.statusText);
                    throw new Error(`API error: ${response.status}`);
                }
            } catch (error) {
                console.error('Failed to load roles from API:', error);
                // Return empty array if API fails
                return [];
            }
        }

        // Function to create role cards
        function createRoleCard(role) {
            const isOpen = role.status === 'open';
            
            return `
                <div class="role-card ${!isOpen ? 'draft' : ''}" data-role-id="${role.id}" tabindex="0" role="button" aria-label="View details for ${role.title}">
                    <div class="role-header">
                        <div class="role-icon">${roleIcons[role.icon] || roleIcons['volunteers']}</div>
                        <div class="role-info">
                            <h3>${role.title}</h3>
                            <span class="role-department">${role.department || 'General'}</span>
                            ${!isOpen ? '<span class="draft-badge">Preview</span>' : ''}
                        </div>
                    </div>
                    <p class="role-summary">${role.summary || role.description?.substring(0, 150) + '...' || 'Join our volunteer team!'}</p>
                    <div class="role-actions">
                        ${role.description || role.essential_criteria || role.desirable_criteria ? 
                            `<button class="view-btn" data-id="${role.id}">View details / Apply</button>` : 
                            `<button class="apply-direct" onclick="openApplicationModal('${role.id}', '${role.title}')">Apply now</button>`
                        }
                    </div>
                </div>
            `;
        }

        // Function to format criteria text into list items
        function formatCriteria(criteriaText) {
            if (!criteriaText) return '<li>No criteria specified</li>';
            
            // Split by line breaks only - each line should be a complete criteria item
            const items = criteriaText.split(/\n/).filter(item => item.trim());
            
            if (items.length === 0) return '<li>No criteria specified</li>';
            
            // Format each item as a list item, preserving the full stop
            return items.map(item => {
                const trimmedItem = item.trim();
                return `<li>${trimmedItem}</li>`;
            }).join('');
        }

        // Function to create modal for role details
        function createRoleModal(role) {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>${role.title}</h2>
                    <p class="role-department">${role.department || 'General'}</p>
                    <div class="role-description">${role.description || '<p>No detailed description available for this role.</p>'}</div>
                    
                    ${role.essential_criteria ? `
                    <div class="role-criteria">
                        <h3>üü¢ Essential Criteria</h3>
                        <ul>
                            ${formatCriteria(role.essential_criteria)}
                        </ul>
                    </div>
                    ` : ''}
                    
                    ${role.desirable_criteria ? `
                    <div class="role-criteria">
                        <h3>üîµ Desirable Criteria</h3>
                        <ul>
                            ${formatCriteria(role.desirable_criteria)}
                        </ul>
                    </div>
                    ` : ''}
                    
                    <div class="role-details">
                        <p><strong>üìç Location:</strong> ${role.location || 'Remote/Flexible'}</p>
                        <p><strong>‚è∞ Time Commitment:</strong> ${role.time_commitment || 'Flexible'}</p>
                        <p><strong>üë• Reporting Line:</strong> ${role.reporting_line || 'To be discussed'}</p>
                    </div>
                    <button class="apply-button" onclick="openApplicationModal('${role.id}', '${role.title}')">Apply for This Role</button>
                </div>
            `;
            return modal;
        }

        // Initialize role loading
        async function initializeRoles() {
            const container = document.getElementById('role-board');
            if (!container) return;

            // Show loading state
            container.innerHTML = `
                <div class="loading-message">
                    <h3>üåà Loading Volunteer Opportunities...</h3>
                    <div class="loading-spinner"></div>
                </div>
            `;

            try {
                // Load roles from API
                const roles = await loadRoles();
                
                // Check if we should show draft roles
                const showDraft = new URLSearchParams(window.location.search).get('preview') === 'true';
                
                // Filter roles - only show open roles and draft roles if in preview mode
                const visibleRoles = roles.filter(role => {
                    if (role.status === 'open') return true;
                    if (role.status === 'draft' && showDraft) return true;
                    return false; // Hide closed roles completely
                });

                if (!visibleRoles.length) {
                    container.innerHTML = `
                        <div class="no-roles-message">
                            <h3>üåà No Open Positions Currently</h3>
                            <p>We're not actively recruiting for new volunteer positions right now, but we'd still love to hear from you! 
                            <a href="contact.html">Get in touch</a> to learn about future opportunities.</p>
                        </div>
                    `;
                    return;
                }

                // Create role grid
                container.innerHTML = visibleRoles.map(role => createRoleCard(role)).join('');

                // IMPORTANT: Add event listeners AFTER roles are injected into DOM
                // Use setTimeout to ensure DOM is fully updated
                setTimeout(() => {
                    // Add click handlers for view buttons (these are the "View details / Apply" buttons)
                    document.querySelectorAll('.view-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            const roleId = btn.getAttribute('data-id');
                            const role = visibleRoles.find(r => r.id == roleId);
                            if (role) {
                                openRoleModal(role);
                            }
                        });
                    });

                    // Add click handlers for role cards (for accessibility and general interaction)
                    document.querySelectorAll('[data-role-id]').forEach(card => {
                        card.addEventListener('click', (e) => {
                            // Only trigger if clicking on the card itself, not on buttons/links
                            if (e.target === card || e.target.closest('.role-header') || e.target.closest('.role-summary')) {
                                e.preventDefault();
                                const roleId = card.getAttribute('data-role-id');
                                const role = visibleRoles.find(r => r.id == roleId);
                                if (role) {
                                    openRoleModal(role);
                                }
                            }
                        });
                        
                        // Keyboard accessibility
                        card.addEventListener('keydown', (e) => {
                            if (e.key === 'Enter' || e.key === ' ') {
                                e.preventDefault();
                                const roleId = card.getAttribute('data-role-id');
                                const role = visibleRoles.find(r => r.id == roleId);
                                if (role) {
                                    openRoleModal(role);
                                }
                            }
                        });
                    });
                }, 100); // Small delay to ensure DOM is ready

            } catch (error) {
                console.error('Failed to initialize roles:', error);
                container.innerHTML = `
                    <div class="error-message">
                        <h3>‚ö†Ô∏è Unable to Load Roles</h3>
                        <p>We're having trouble loading our volunteer opportunities right now. Please try refreshing the page or <a href="contact.html">contact us</a> directly.</p>
                    </div>
                `;
            }
        }

        // Function to open role modal
        function openRoleModal(role) {
            const modal = createRoleModal(role);
            document.body.appendChild(modal);
            
            // Show modal with animation
            setTimeout(() => modal.classList.add('show'), 10);
            
            // Close handlers
            const closeModal = () => {
                modal.classList.remove('show');
                setTimeout(() => modal.remove(), 300);
            };
            
            // Close button handler
            modal.querySelector('.close').onclick = closeModal;
            
            // Click outside modal to close
            modal.onclick = (e) => {
                if (e.target === modal) closeModal();
            };
            
            // Close on Escape key
            const handleEscape = (e) => {
                if (e.key === 'Escape') {
                    closeModal();
                    document.removeEventListener('keydown', handleEscape);
                }
            };
            document.addEventListener('keydown', handleEscape);
            
            // Focus management - focus the close button for accessibility
            setTimeout(() => {
                const closeBtn = modal.querySelector('.close');
                if (closeBtn) closeBtn.focus();
            }, 100);
        }

        // Make openRoleModal globally available
        window.openRoleModal = openRoleModal;

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeRoles);
        } else {
            initializeRoles();
        }

    </script>
</body>
</html> 